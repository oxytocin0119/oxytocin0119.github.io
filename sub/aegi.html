<!DOCTYPE html>
<html>

  <head>

    <meta charset="utf-8">

    <title>あえぎ声生成（試作品）</title>

    <link rel="stylesheet" href="../general.css">

    <script>
    function a(){
      function g_aegi(n){
        let index = ['あ','ぁ','っ','ん','…'];
        let aegi = [];
        let f = 0;
        for(let i = 0;i < n; i++){
          var a = Math.floor( Math.random() * index.length );
          if(i > n -2){
            a = Math.floor( Math.random() * index.length ) -1;
          }
          if(i === n){
            aegi[i] = "\0";
          }else if(f === 0 && index[a] === '…'){
            aegi[i] = index[a];
            f = 1;
          }else if(f==1){
            f = 0;
            aegi[i] = aegi[i-1];
          }else{
            aegi[i] = index[a];
          }
        }
        return aegi;
      }

      var n = document.getElementById("input_num").value;
        if(isNaN(n) || n < 1 || n % 1 !== 0){
          alert('1以上の整数を入力してください');
        }else{
          document.getElementById("result").innerHTML = g_aegi(n).join('');
        }
    }
    </script>



  </head>

  <body>

  <!-- headerってくくる必要性わかんない -->

    <header>

      <!-- ツイッターアイコン取得して貼り付け -->

      <p class="header_image"><a href="https://twitter.com/Satoh_Ikumichan"><img src="https://pbs.twimg.com/profile_images/874845579540664321/kO9ZeDsm_400x400.jpg" alt="汚奇死徒神のプロフィール画像" width="80" height="80"></a></p>

      <!-- タイトル -->

      <h1 class="title">オキシの勝手気ままなページ</h1>

      <!-- いずれ音楽貼り付けようかな

      <audio src="hoge.mp3" autoplay loop controls></audio>

        -->

    </header>



    <!-- ヘッダーの区切り線 -->

    <hr size:50;>


    <!-- 以下本文 -->

    <h2>あえぎ声生成（試作品）</h2>

    <p>
      それっぽい感じ（？）で指定の文字数のあえぎ声を作るよ。<br>
      javascriptの勉強をかねて作ったのでブラウザでjsを有効にしてみてね。<br>
      あえぎ方が今のところ単調なので気が向いたら改良するよ。<br>
      多少はチェックしたつもりだけど正しく動かないとかあえぎのパターンとかこうした方がいいというのがあればツイッターとかで教えてね。<br>
    </p>

    <!-- 以下喘ぎ声生成 -->

    <p>
    作りたいあえぎ声の文字数を半角で入力して生成ボタンを押してね。<br>
    <input value="20" id="input_num" />
      <button onclick="a()">生成</button>
    </p>
    <p id="result"></p>

    <!-- 本文ここまで -->


    <hr size:50;>



    <!-- 別ページのリンク -->

    <!-- footerもよくわからんけど作法みたいなもんかな？ -->

    <footer>

      <p>

        <li><a href="../index.html">メインページ(index)</a>

        <li><a href="sub.html">サブページ</a>

        <li><a href="aegi.html">あえぎ声生成（試作品）</a>

      </p>

      <p>

        <li><a href="https://twitter.com/Satoh_Ikumichan">オキシのツイッター</a>

        <li><a href="http://blog.livedoor.jp/satoh_ikumichan/">オキシのブログ</a>

      </p>

    </footer>

  </body>
    
</html>